# 第4节：事件驱动

*采用事件驱动架构* *(Event-Driven Architecture)*

事件驱动架构作为一种应用间集成模式，天然适合云原生中间件的调度和集成。在事件驱动的体系结构中，当服务执行其他中间件可能感兴趣的工作时，该服务将生成一个事件。其他服务使用这些事件，进而执行由该事件触发的任务。事件成为了可以被消费的对象，而不仅仅是在函数间传递的临时参数，从而可以同时被多个中间件消费。中间件不需要直接和生成事件的服务进行交互，仅通过监听事件，触发对应的操作，从而降低了服务内部的复杂度。事件驱动架构具备以下优点：

\1.   异步：基于事件的架构是异步的，没有阻塞。这使得中间件可以在工作单元完成后自由地转移到下一个任务，而不用担心之前发生了什么或者接下来会发生什么。

\2.   松耦合：中间件之间不需要(也不应该)知道或依赖于其他服务。事件模型下的中间件可以独立的、更容易的更新、测试和部署。

\3.   易于扩展：由于服务在事件驱动的体系结构下解耦，而且服务通常只执行一项任务，因此跟踪特定服务的瓶颈，并对该服务(且仅对该服务)进行扩展变得很容易。

恢复支持：带有队列的事件驱动架构可以通过“重播”过去的事件来恢复丢失的工作。当用户需要恢复时，这对于防止数据丢失非常有用。